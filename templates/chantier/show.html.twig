{% extends 'base.html.twig' %}

{% block title %}Chantier{% endblock %}

{% block body %}
    <h1>Chantier</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>ID</th>
                <td>{{ chantier.id }}</td>
            </tr>
            <tr>
                <th>Nom</th>
                <td>{{ chantier.nom }}</td>
            </tr>
            <tr>
                <th>Responsable</th>
                <td>{{ chantier.getChefDeChantier.getNom }}</td>
            </tr>
            <tr>
                <th>Date de d√©but</th>
                <td>{{ chantier.dateDeDebut ? chantier.dateDeDebut|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
                <th>Date de fin</th>
                <td>{{ chantier.dateDeFin ? chantier.dateDeFin|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
                <th>T√¢ches</th>
                <td>
                    <ul>
                        {% for tache in chantier.taches %}
                            <li>
                                <strong>{{ tache.description }}</strong>  
                                ({{ tache.statut }})  
                                <br> ‚ûù Dur√©e : {{ tache.duree }} jour{% if tache.duree > 1 %}s{% endif %}  
                                <br> üìÖ D√©but : {{ tache.dateDeDebut ? tache.dateDeDebut|date('Y-m-d') : 'Non d√©fini' }}  
                                <br> ‚è≥ Fin : {{ tache.dateDeFin ? tache.dateDeFin|date('Y-m-d') : 'Non d√©fini' }}  
                            </li>
                            <hr>
                        {% else %}
                            <li><em>Aucune t√¢che</em></li>
                        {% endfor %}
                    </ul>
                </td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_chantier_index') }}">Retour √† la liste</a>

    <a href="{{ path('app_chantier_edit', {'id': chantier.id}) }}">Modifier</a>

    {{ include('chantier/_delete_form.html.twig') }}
{% endblock %}
