{% extends 'base.html.twig' %}

{% block title %}Chantier{% endblock %}

{% block body %}
<h1>Chantier</h1>
<div style="display: flex">
    <table class="table">
        <tbody>
            <tr>
                <th>ID</th>
                <td>{{ chantier.id }}</td>
            </tr>
            <tr>
                <th>Nom</th>
                <td>{{ chantier.nom }}</td>
            </tr>
            <tr>
                <th>Responsable</th>
                <td>{{ chantier.getChefDeChantier.getNom }}</td>
            </tr>
            <tr>
                <th>Date de début</th>
                <td>{{ chantier.dateDeDebut ? chantier.dateDeDebut|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
                <th>Date de fin</th>
                <td>{{ chantier.dateDeFin ? chantier.dateDeFin|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
                <th>Tâches</th>
                <td>
                    <ul>
                        {% for tache in chantier.taches %}
                        <li>
                            {{ tache.description }} : {{ tache.duree }}
                            jour{% if tache.duree > 1 %}s{% endif %}
                            ({{ tache.statut }})
                        </li>
                        {% else %}
                        <li>Aucune tâche</li>
                        {% endfor %}
                    </ul>
                </td>
            </tr>
            <tr>
                <th>
                    Adresse
                </th>
                <td>
                    <p id="adresse">32 rue des vignes, Cachan</p>
                </td>
            </tr>
        </tbody>
    </table>

    <div id="map" style="height:300px;width:600px;"></div>
</div>


<a href="{{ path('app_chantier_index') }}">Retour à la liste</a>

<a href="{{ path('app_chantier_edit', {'id': chantier.id}) }}">Modifier</a>

{{ include('chantier/_delete_form.html.twig') }}


{% endblock %}